<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6 Preparing your data for analysis | Programming for Data Analysis and Statistics with R</title>
  <meta name="description" content="6 Preparing your data for analysis | Programming for Data Analysis and Statistics with R" />
  <meta name="generator" content="bookdown 0.35 and GitBook 2.6.7" />

  <meta property="og:title" content="6 Preparing your data for analysis | Programming for Data Analysis and Statistics with R" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6 Preparing your data for analysis | Programming for Data Analysis and Statistics with R" />
  
  
  

<meta name="author" content="Diren Senger" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="r-data-types.html"/>
<link rel="next" href="conditions---if-and-else.html"/>
<script src="book_assets/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="book_assets/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="book_assets/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="book_assets/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="book_assets/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="about.html"><a href="about.html"><i class="fa fa-check"></i><b>1</b> About</a></li>
<li class="chapter" data-level="2" data-path="installation-notes.html"><a href="installation-notes.html"><i class="fa fa-check"></i><b>2</b> Installation Notes</a></li>
<li class="chapter" data-level="3" data-path="rstudio-programming-environment.html"><a href="rstudio-programming-environment.html"><i class="fa fa-check"></i><b>3</b> RStudio Programming Environment</a>
<ul>
<li class="chapter" data-level="3.1" data-path="rstudio-programming-environment.html"><a href="rstudio-programming-environment.html#creating-a-new-project"><i class="fa fa-check"></i><b>3.1</b> Creating a new project</a></li>
<li class="chapter" data-level="3.2" data-path="rstudio-programming-environment.html"><a href="rstudio-programming-environment.html#rstudio-screen"><i class="fa fa-check"></i><b>3.2</b> RStudio screen</a></li>
<li class="chapter" data-level="3.3" data-path="rstudio-programming-environment.html"><a href="rstudio-programming-environment.html#r-workflow"><i class="fa fa-check"></i><b>3.3</b> R Workflow</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="packages.html"><a href="packages.html"><i class="fa fa-check"></i><b>4</b> Packages</a></li>
<li class="chapter" data-level="5" data-path="r-data-types.html"><a href="r-data-types.html"><i class="fa fa-check"></i><b>5</b> R Data types</a>
<ul>
<li class="chapter" data-level="5.1" data-path="r-data-types.html"><a href="r-data-types.html#character"><i class="fa fa-check"></i><b>5.1</b> Character</a></li>
<li class="chapter" data-level="5.2" data-path="r-data-types.html"><a href="r-data-types.html#numeric"><i class="fa fa-check"></i><b>5.2</b> Numeric</a></li>
<li class="chapter" data-level="5.3" data-path="r-data-types.html"><a href="r-data-types.html#logical"><i class="fa fa-check"></i><b>5.3</b> Logical</a></li>
<li class="chapter" data-level="5.4" data-path="r-data-types.html"><a href="r-data-types.html#and"><i class="fa fa-check"></i><b>5.4</b> &amp;&amp; and ||</a></li>
<li class="chapter" data-level="5.5" data-path="r-data-types.html"><a href="r-data-types.html#vectors"><i class="fa fa-check"></i><b>5.5</b> Vectors</a></li>
<li class="chapter" data-level="5.6" data-path="r-data-types.html"><a href="r-data-types.html#factors"><i class="fa fa-check"></i><b>5.6</b> Factors</a></li>
<li class="chapter" data-level="5.7" data-path="r-data-types.html"><a href="r-data-types.html#list-of-lists"><i class="fa fa-check"></i><b>5.7</b> List of lists</a></li>
<li class="chapter" data-level="5.8" data-path="r-data-types.html"><a href="r-data-types.html#matrices"><i class="fa fa-check"></i><b>5.8</b> Matrices</a></li>
<li class="chapter" data-level="5.9" data-path="r-data-types.html"><a href="r-data-types.html#data-frames"><i class="fa fa-check"></i><b>5.9</b> Data frames</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="preparing-your-data-for-analysis.html"><a href="preparing-your-data-for-analysis.html"><i class="fa fa-check"></i><b>6</b> Preparing your data for analysis</a>
<ul>
<li class="chapter" data-level="6.1" data-path="preparing-your-data-for-analysis.html"><a href="preparing-your-data-for-analysis.html#reading-the-data"><i class="fa fa-check"></i><b>6.1</b> Reading the data</a></li>
<li class="chapter" data-level="6.2" data-path="preparing-your-data-for-analysis.html"><a href="preparing-your-data-for-analysis.html#transforming-entire-columns"><i class="fa fa-check"></i><b>6.2</b> Transforming entire columns</a></li>
<li class="chapter" data-level="6.3" data-path="preparing-your-data-for-analysis.html"><a href="preparing-your-data-for-analysis.html#subsetting-data"><i class="fa fa-check"></i><b>6.3</b> Subsetting data</a></li>
<li class="chapter" data-level="6.4" data-path="preparing-your-data-for-analysis.html"><a href="preparing-your-data-for-analysis.html#useful-functions"><i class="fa fa-check"></i><b>6.4</b> Useful functions</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="conditions---if-and-else.html"><a href="conditions---if-and-else.html"><i class="fa fa-check"></i><b>7</b> Conditions - If and Else</a>
<ul>
<li class="chapter" data-level="7.1" data-path="conditions---if-and-else.html"><a href="conditions---if-and-else.html#if"><i class="fa fa-check"></i><b>7.1</b> If</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="for-and-while.html"><a href="for-and-while.html"><i class="fa fa-check"></i><b>8</b> For and While</a>
<ul>
<li class="chapter" data-level="8.1" data-path="for-and-while.html"><a href="for-and-while.html#for"><i class="fa fa-check"></i><b>8.1</b> For</a></li>
<li class="chapter" data-level="8.2" data-path="for-and-while.html"><a href="for-and-while.html#while"><i class="fa fa-check"></i><b>8.2</b> While</a></li>
<li class="chapter" data-level="8.3" data-path="for-and-while.html"><a href="for-and-while.html#do-while"><i class="fa fa-check"></i><b>8.3</b> Do-while</a></li>
<li class="chapter" data-level="8.4" data-path="for-and-while.html"><a href="for-and-while.html#for-vs.-while"><i class="fa fa-check"></i><b>8.4</b> For vs. While</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="writing-own-functions.html"><a href="writing-own-functions.html"><i class="fa fa-check"></i><b>9</b> Writing own functions</a></li>
<li class="chapter" data-level="10" data-path="debugging.html"><a href="debugging.html"><i class="fa fa-check"></i><b>10</b> Debugging</a></li>
<li class="chapter" data-level="11" data-path="piping.html"><a href="piping.html"><i class="fa fa-check"></i><b>11</b> Piping</a></li>
<li class="chapter" data-level="12" data-path="linear-models.html"><a href="linear-models.html"><i class="fa fa-check"></i><b>12</b> Linear Models</a>
<ul>
<li class="chapter" data-level="12.1" data-path="linear-models.html"><a href="linear-models.html#definition---simple-linear-regression"><i class="fa fa-check"></i><b>12.1</b> Definition - Simple Linear Regression</a></li>
<li class="chapter" data-level="12.2" data-path="linear-models.html"><a href="linear-models.html#sample-data"><i class="fa fa-check"></i><b>12.2</b> Sample data</a></li>
<li class="chapter" data-level="12.3" data-path="linear-models.html"><a href="linear-models.html#fitting-a-linear-model"><i class="fa fa-check"></i><b>12.3</b> Fitting a Linear Model</a></li>
<li class="chapter" data-level="12.4" data-path="linear-models.html"><a href="linear-models.html#linear-model---assumptions"><i class="fa fa-check"></i><b>12.4</b> Linear Model - Assumptions</a></li>
<li class="chapter" data-level="12.5" data-path="linear-models.html"><a href="linear-models.html#assumption-1---linear-relationship"><i class="fa fa-check"></i><b>12.5</b> Assumption 1 - Linear Relationship</a></li>
<li class="chapter" data-level="12.6" data-path="linear-models.html"><a href="linear-models.html#assumption-2---independence-of-residuals"><i class="fa fa-check"></i><b>12.6</b> Assumption 2 - Independence of Residuals</a></li>
<li class="chapter" data-level="12.7" data-path="linear-models.html"><a href="linear-models.html#durban-watson-test"><i class="fa fa-check"></i><b>12.7</b> Durban-Watson-Test</a></li>
<li class="chapter" data-level="12.8" data-path="linear-models.html"><a href="linear-models.html#assumption-3---constant-variance-or-errors"><i class="fa fa-check"></i><b>12.8</b> Assumption 3 - Constant variance or errors</a></li>
<li class="chapter" data-level="12.9" data-path="linear-models.html"><a href="linear-models.html#assumption-4---normality-of-residuals"><i class="fa fa-check"></i><b>12.9</b> Assumption 4 - Normality of Residuals</a></li>
<li class="chapter" data-level="12.10" data-path="linear-models.html"><a href="linear-models.html#shapiro-wilk-test-for-normality"><i class="fa fa-check"></i><b>12.10</b> Shapiro-Wilk-Test for Normality</a></li>
<li class="chapter" data-level="12.11" data-path="linear-models.html"><a href="linear-models.html#other-possibilities-of-checking-assumptions"><i class="fa fa-check"></i><b>12.11</b> Other possibilities of checking assumptions</a></li>
<li class="chapter" data-level="12.12" data-path="linear-models.html"><a href="linear-models.html#definition---linear-model-with-multiple-predictors"><i class="fa fa-check"></i><b>12.12</b> Definition - Linear Model with multiple predictors</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="plotting.html"><a href="plotting.html"><i class="fa fa-check"></i><b>13</b> Plotting</a>
<ul>
<li class="chapter" data-level="13.1" data-path="plotting.html"><a href="plotting.html#standard-library"><i class="fa fa-check"></i><b>13.1</b> Standard library</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="plotting.html"><a href="plotting.html#points-or-lines-type"><i class="fa fa-check"></i><b>13.1.1</b> Points or Lines? (type)</a></li>
<li class="chapter" data-level="13.1.2" data-path="plotting.html"><a href="plotting.html#line-type-lty"><i class="fa fa-check"></i><b>13.1.2</b> Line type (lty)</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="plotting.html"><a href="plotting.html#ggplot"><i class="fa fa-check"></i><b>13.2</b> ggplot</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>14</b> R-Markdown</a>
<ul>
<li class="chapter" data-level="14.1" data-path="r-markdown.html"><a href="r-markdown.html#output-formats"><i class="fa fa-check"></i><b>14.1</b> Output formats</a></li>
<li class="chapter" data-level="14.2" data-path="r-markdown.html"><a href="r-markdown.html#document-structure"><i class="fa fa-check"></i><b>14.2</b> Document structure</a></li>
<li class="chapter" data-level="14.3" data-path="r-markdown.html"><a href="r-markdown.html#code-blocks"><i class="fa fa-check"></i><b>14.3</b> Code blocks</a></li>
<li class="chapter" data-level="14.4" data-path="r-markdown.html"><a href="r-markdown.html#lists"><i class="fa fa-check"></i><b>14.4</b> Lists</a></li>
<li class="chapter" data-level="14.5" data-path="r-markdown.html"><a href="r-markdown.html#insert-an-image"><i class="fa fa-check"></i><b>14.5</b> Insert an image</a></li>
<li class="chapter" data-level="14.6" data-path="r-markdown.html"><a href="r-markdown.html#further-documentation"><i class="fa fa-check"></i><b>14.6</b> Further documentation</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="short-statistical-breaks.html"><a href="short-statistical-breaks.html"><i class="fa fa-check"></i><b>15</b> Short statistical breaks</a>
<ul>
<li class="chapter" data-level="15.1" data-path="short-statistical-breaks.html"><a href="short-statistical-breaks.html#dinosours"><i class="fa fa-check"></i><b>15.1</b> Dinosours</a></li>
<li class="chapter" data-level="15.2" data-path="short-statistical-breaks.html"><a href="short-statistical-breaks.html#stars"><i class="fa fa-check"></i><b>15.2</b> Stars</a></li>
<li class="chapter" data-level="15.3" data-path="short-statistical-breaks.html"><a href="short-statistical-breaks.html#correlation"><i class="fa fa-check"></i><b>15.3</b> Correlation</a></li>
<li class="chapter" data-level="15.4" data-path="short-statistical-breaks.html"><a href="short-statistical-breaks.html#beginners-book"><i class="fa fa-check"></i><b>15.4</b> Beginners Book</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Programming for Data Analysis and Statistics with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="preparing-your-data-for-analysis" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number">6</span> Preparing your data for analysis<a href="preparing-your-data-for-analysis.html#preparing-your-data-for-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="reading-the-data" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> Reading the data<a href="preparing-your-data-for-analysis.html#reading-the-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Usually, you would use the “csv” format to read data into R. Sometimes you have other formats, e.g. “txt”. Optimally, you have exactly one line for the header.
Make sure to choose the correct separator. You also have to tell R whether your file has a header or not.</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="preparing-your-data-for-analysis.html#cb85-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="st">&quot;beedata.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Error in scan(file = file, what = what, sep = sep, quote = quote, dec = dec, : line 2 did not have 2 elements</code></pre>
<p>That did not work. Oh, yes, the separator!</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="preparing-your-data-for-analysis.html#cb87-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="st">&quot;beedata.csv&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;,&quot;</span>)</span></code></pre></div>
<table>
<colgroup>
<col width="18%" />
<col width="5%" />
<col width="9%" />
<col width="8%" />
<col width="9%" />
<col width="9%" />
<col width="9%" />
<col width="9%" />
<col width="8%" />
<col width="11%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">V1</th>
<th align="left">V2</th>
<th align="left">V3</th>
<th align="left">V4</th>
<th align="left">V5</th>
<th align="left">V6</th>
<th align="left">V7</th>
<th align="left">V8</th>
<th align="left">V9</th>
<th align="left">V10</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">time</td>
<td align="left">hive</td>
<td align="left">h</td>
<td align="left">t_i_1</td>
<td align="left">t_i_2</td>
<td align="left">t_i_3</td>
<td align="left">t_i_4</td>
<td align="left">t_i_5</td>
<td align="left">t_o</td>
<td align="left">weight_kg</td>
</tr>
<tr class="even">
<td align="left">1.565081418e+18</td>
<td align="left">4</td>
<td align="left">NA</td>
<td align="left">27.25</td>
<td align="left">26.375</td>
<td align="left">23.4375</td>
<td align="left">23.5</td>
<td align="left">23.25</td>
<td align="left">21.625</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">1.565081428e+18</td>
<td align="left">4</td>
<td align="left">NA</td>
<td align="left">27.25</td>
<td align="left">26.4375</td>
<td align="left">23.5</td>
<td align="left">23.5</td>
<td align="left">23.25</td>
<td align="left">21.625</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">1.565081431e+18</td>
<td align="left">13</td>
<td align="left">59.0554</td>
<td align="left">22.875</td>
<td align="left">22.1875</td>
<td align="left">23</td>
<td align="left">21.8125</td>
<td align="left">22.6875</td>
<td align="left">22.875</td>
<td align="left">10.779</td>
</tr>
<tr class="odd">
<td align="left">1.565081438e+18</td>
<td align="left">4</td>
<td align="left">NA</td>
<td align="left">27.25</td>
<td align="left">26.375</td>
<td align="left">23.5</td>
<td align="left">23.5625</td>
<td align="left">23.25</td>
<td align="left">21.625</td>
<td align="left">NA</td>
</tr>
</tbody>
</table>
<p>Looks ok, but we forgot the heading:</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="preparing-your-data-for-analysis.html#cb88-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="st">&quot;beedata.csv&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;,&quot;</span>, <span class="at">header =</span> T)</span></code></pre></div>
<table style="width:100%;">
<colgroup>
<col width="15%" />
<col width="6%" />
<col width="9%" />
<col width="8%" />
<col width="9%" />
<col width="9%" />
<col width="9%" />
<col width="9%" />
<col width="8%" />
<col width="12%" />
</colgroup>
<thead>
<tr class="header">
<th align="right">time</th>
<th align="right">hive</th>
<th align="right">h</th>
<th align="right">t_i_1</th>
<th align="right">t_i_2</th>
<th align="right">t_i_3</th>
<th align="right">t_i_4</th>
<th align="right">t_i_5</th>
<th align="right">t_o</th>
<th align="right">weight_kg</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1.565081e+18</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="right">27.250</td>
<td align="right">26.3750</td>
<td align="right">23.4375</td>
<td align="right">23.5000</td>
<td align="right">23.2500</td>
<td align="right">21.625</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">1.565081e+18</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="right">27.250</td>
<td align="right">26.4375</td>
<td align="right">23.5000</td>
<td align="right">23.5000</td>
<td align="right">23.2500</td>
<td align="right">21.625</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="right">1.565081e+18</td>
<td align="right">13</td>
<td align="right">59.0554</td>
<td align="right">22.875</td>
<td align="right">22.1875</td>
<td align="right">23.0000</td>
<td align="right">21.8125</td>
<td align="right">22.6875</td>
<td align="right">22.875</td>
<td align="right">10.779</td>
</tr>
<tr class="even">
<td align="right">1.565081e+18</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="right">27.250</td>
<td align="right">26.3750</td>
<td align="right">23.5000</td>
<td align="right">23.5625</td>
<td align="right">23.2500</td>
<td align="right">21.625</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="right">1.565081e+18</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="right">27.250</td>
<td align="right">26.3750</td>
<td align="right">23.5000</td>
<td align="right">23.5625</td>
<td align="right">23.2500</td>
<td align="right">21.625</td>
<td align="right">NA</td>
</tr>
</tbody>
</table>
<p>That looks good!</p>
<p>Alternatively, we can use “read.csv”. In this case, the default parameters work for us.</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="preparing-your-data-for-analysis.html#cb89-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;beedata.csv&quot;</span>)</span></code></pre></div>
<p>Take care, sometimes you don’t get an error, but your data is screwed up anyway:
<img src="images/sampleData.png" alt="sample Data" /></p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="preparing-your-data-for-analysis.html#cb90-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;sampleData.csv&quot;</span>, <span class="at">sep =</span> <span class="st">&quot; &quot;</span>)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">name.</th>
<th align="left">age.</th>
<th align="left">subject.</th>
<th align="right">year</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Li;</td>
<td align="left">18;</td>
<td align="left">chemistry;</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Svenson,Jacob;</td>
<td align="left">25;</td>
<td align="left">psychology;</td>
<td align="right">12</td>
</tr>
<tr class="odd">
<td align="left">Raphaela;</td>
<td align="left">23;</td>
<td align="left">psychology;</td>
<td align="right">1</td>
</tr>
</tbody>
</table>
<p>Use the head function to inspect your data.</p>
</div>
<div id="transforming-entire-columns" class="section level2 hasAnchor" number="6.2">
<h2><span class="header-section-number">6.2</span> Transforming entire columns<a href="preparing-your-data-for-analysis.html#transforming-entire-columns" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The columns/ variables of a dataframe basically behave like entries in a named list. Each element of this list is a vector of a specific type.
You can inspect the structure of a dataframe using the function “str”.</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="preparing-your-data-for-analysis.html#cb91-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;beedata.csv&quot;</span>)</span>
<span id="cb91-2"><a href="preparing-your-data-for-analysis.html#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(df)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    171299 obs. of  10 variables:
##  $ time     : num  1.57e+18 1.57e+18 1.57e+18 1.57e+18 1.57e+18 ...
##  $ hive     : int  4 4 13 4 4 4 4 4 4 4 ...
##  $ h        : num  NA NA 59.1 NA NA ...
##  $ t_i_1    : num  27.2 27.2 22.9 27.2 27.2 ...
##  $ t_i_2    : num  26.4 26.4 22.2 26.4 26.4 ...
##  $ t_i_3    : num  23.4 23.5 23 23.5 23.5 ...
##  $ t_i_4    : num  23.5 23.5 21.8 23.6 23.6 ...
##  $ t_i_5    : num  23.2 23.2 22.7 23.2 23.2 ...
##  $ t_o      : num  21.6 21.6 22.9 21.6 21.6 ...
##  $ weight_kg: num  NA NA 10.8 NA NA ...</code></pre>
<p>E.g. converting kg to g:</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="preparing-your-data-for-analysis.html#cb93-1" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>weight_g <span class="ot">&lt;-</span> df<span class="sc">$</span>weight_kg<span class="sc">*</span><span class="dv">1000</span></span></code></pre></div>
<p>Marking high temperature values:</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="preparing-your-data-for-analysis.html#cb94-1" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>highTemp <span class="ot">&lt;-</span> df<span class="sc">$</span>t_i_1<span class="sc">&gt;</span><span class="dv">25</span></span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">time</th>
<th align="right">hive</th>
<th align="right">h</th>
<th align="right">t_i_1</th>
<th align="right">weight_kg</th>
<th align="right">weight_g</th>
<th align="left">highTemp</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1.565081e+18</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="right">27.250</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="right">1.565081e+18</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="right">27.250</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="right">1.565081e+18</td>
<td align="right">13</td>
<td align="right">59.0554</td>
<td align="right">22.875</td>
<td align="right">10.779</td>
<td align="right">10779</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="right">1.565081e+18</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="right">27.250</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="right">1.565081e+18</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="right">27.250</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">TRUE</td>
</tr>
</tbody>
</table>
<p>Dealing with the timestamp (nanoseconds to seconds)</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="preparing-your-data-for-analysis.html#cb95-1" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>time <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(df<span class="sc">$</span>time<span class="sc">/</span><span class="dv">1000000000</span>, <span class="at">origin=</span><span class="st">&quot;1970-01-01&quot;</span>)</span></code></pre></div>
<table>
<colgroup>
<col width="18%" />
<col width="4%" />
<col width="7%" />
<col width="6%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="6%" />
<col width="9%" />
<col width="8%" />
<col width="8%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">time</th>
<th align="right">hive</th>
<th align="right">h</th>
<th align="right">t_i_1</th>
<th align="right">t_i_2</th>
<th align="right">t_i_3</th>
<th align="right">t_i_4</th>
<th align="right">t_i_5</th>
<th align="right">t_o</th>
<th align="right">weight_kg</th>
<th align="right">weight_g</th>
<th align="left">highTemp</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">2019-08-06 10:50:18</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="right">27.250</td>
<td align="right">26.3750</td>
<td align="right">23.4375</td>
<td align="right">23.5000</td>
<td align="right">23.2500</td>
<td align="right">21.625</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">2019-08-06 10:50:28</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="right">27.250</td>
<td align="right">26.4375</td>
<td align="right">23.5000</td>
<td align="right">23.5000</td>
<td align="right">23.2500</td>
<td align="right">21.625</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">2019-08-06 10:50:31</td>
<td align="right">13</td>
<td align="right">59.0554</td>
<td align="right">22.875</td>
<td align="right">22.1875</td>
<td align="right">23.0000</td>
<td align="right">21.8125</td>
<td align="right">22.6875</td>
<td align="right">22.875</td>
<td align="right">10.779</td>
<td align="right">10779</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">2019-08-06 10:50:38</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="right">27.250</td>
<td align="right">26.3750</td>
<td align="right">23.5000</td>
<td align="right">23.5625</td>
<td align="right">23.2500</td>
<td align="right">21.625</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">2019-08-06 10:50:48</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="right">27.250</td>
<td align="right">26.3750</td>
<td align="right">23.5000</td>
<td align="right">23.5625</td>
<td align="right">23.2500</td>
<td align="right">21.625</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">TRUE</td>
</tr>
</tbody>
</table>
</div>
<div id="subsetting-data" class="section level2 hasAnchor" number="6.3">
<h2><span class="header-section-number">6.3</span> Subsetting data<a href="preparing-your-data-for-analysis.html#subsetting-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>You can use squared brackets and boolean expressions to choose lines and columns: df[&lt;expression to choose lines&gt;,&lt;expression to choose columns&gt;]</p>
<p>Select and plot data from hive 4:</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="preparing-your-data-for-analysis.html#cb96-1" aria-hidden="true" tabindex="-1"></a>df<span class="fl">.4</span> <span class="ot">&lt;-</span> df[df<span class="sc">$</span>hive<span class="sc">==</span><span class="dv">4</span>,]</span>
<span id="cb96-2"><a href="preparing-your-data-for-analysis.html#cb96-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(df<span class="fl">.4</span><span class="sc">$</span>time, df<span class="fl">.4</span><span class="sc">$</span>t_o, <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">40</span>))</span></code></pre></div>
<p><img src="courseNotes_files/figure-html/unnamed-chunk-32-1.png" width="672" />
Select only the first 1000 lines:</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="preparing-your-data-for-analysis.html#cb97-1" aria-hidden="true" tabindex="-1"></a>df.<span class="fl">4.</span>sub <span class="ot">&lt;-</span> df<span class="fl">.4</span>[<span class="dv">1</span><span class="sc">:</span><span class="dv">1000</span>,]</span>
<span id="cb97-2"><a href="preparing-your-data-for-analysis.html#cb97-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(df.<span class="fl">4.</span>sub<span class="sc">$</span>time, df.<span class="fl">4.</span>sub<span class="sc">$</span>t_o, <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">40</span>))</span></code></pre></div>
<p><img src="courseNotes_files/figure-html/unnamed-chunk-33-1.png" width="672" />
Delete columns: / Choose only some columns</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="preparing-your-data-for-analysis.html#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(df)</span></code></pre></div>
<pre><code>##  [1] &quot;time&quot;      &quot;hive&quot;      &quot;h&quot;         &quot;t_i_1&quot;     &quot;t_i_2&quot;     &quot;t_i_3&quot;    
##  [7] &quot;t_i_4&quot;     &quot;t_i_5&quot;     &quot;t_o&quot;       &quot;weight_kg&quot; &quot;weight_g&quot;  &quot;highTemp&quot;</code></pre>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="preparing-your-data-for-analysis.html#cb100-1" aria-hidden="true" tabindex="-1"></a>df.some <span class="ot">&lt;-</span> df[, <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">10</span>)]</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">time</th>
<th align="right">hive</th>
<th align="right">weight_kg</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">2019-08-06 10:50:18</td>
<td align="right">4</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">2019-08-06 10:50:28</td>
<td align="right">4</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">2019-08-06 10:50:31</td>
<td align="right">13</td>
<td align="right">10.779</td>
</tr>
<tr class="even">
<td align="left">2019-08-06 10:50:38</td>
<td align="right">4</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">2019-08-06 10:50:48</td>
<td align="right">4</td>
<td align="right">NA</td>
</tr>
</tbody>
</table>
<p>You can also use:</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="preparing-your-data-for-analysis.html#cb101-1" aria-hidden="true" tabindex="-1"></a>df.same <span class="ot">&lt;-</span> df[, <span class="fu">c</span>(<span class="st">&quot;time&quot;</span>, <span class="st">&quot;hive&quot;</span>, <span class="st">&quot;weight_kg&quot;</span>)]</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">time</th>
<th align="right">hive</th>
<th align="right">weight_kg</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">2019-08-06 10:50:18</td>
<td align="right">4</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">2019-08-06 10:50:28</td>
<td align="right">4</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">2019-08-06 10:50:31</td>
<td align="right">13</td>
<td align="right">10.779</td>
</tr>
<tr class="even">
<td align="left">2019-08-06 10:50:38</td>
<td align="right">4</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">2019-08-06 10:50:48</td>
<td align="right">4</td>
<td align="right">NA</td>
</tr>
</tbody>
</table>
<p>or</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="preparing-your-data-for-analysis.html#cb102-1" aria-hidden="true" tabindex="-1"></a>df.or <span class="ot">&lt;-</span> df[, <span class="sc">-</span><span class="fu">c</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">9</span>,<span class="dv">11</span>)]</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">time</th>
<th align="right">hive</th>
<th align="right">weight_kg</th>
<th align="left">highTemp</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">2019-08-06 10:50:18</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">2019-08-06 10:50:28</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">2019-08-06 10:50:31</td>
<td align="right">13</td>
<td align="right">10.779</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">2019-08-06 10:50:38</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">2019-08-06 10:50:48</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="left">TRUE</td>
</tr>
</tbody>
</table>
</div>
<div id="useful-functions" class="section level2 hasAnchor" number="6.4">
<h2><span class="header-section-number">6.4</span> Useful functions<a href="preparing-your-data-for-analysis.html#useful-functions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>summary</li>
<li>head</li>
<li>tail</li>
<li>sum</li>
<li>mean</li>
</ul>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="r-data-types.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="conditions---if-and-else.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="book_assets/gitbook-2.6.7/js/app.min.js"></script>
<script src="book_assets/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="book_assets/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": false,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
