<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 Preparing your data for analysis | Programming for Data Analysis and Statistics with R</title>
  <meta name="description" content="5 Preparing your data for analysis | Programming for Data Analysis and Statistics with R" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="5 Preparing your data for analysis | Programming for Data Analysis and Statistics with R" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 Preparing your data for analysis | Programming for Data Analysis and Statistics with R" />
  
  
  

<meta name="author" content="Diren Senger" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="r-data-types.html"/>
<link rel="next" href="conditions-if-and-else.html"/>
<script src="book_assets/jquery-2.2.3/jquery.min.js"></script>
<link href="book_assets/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="about.html"><a href="about.html"><i class="fa fa-check"></i><b>1</b> About</a></li>
<li class="chapter" data-level="2" data-path="installation-notes.html"><a href="installation-notes.html"><i class="fa fa-check"></i><b>2</b> Installation Notes</a></li>
<li class="chapter" data-level="3" data-path="rstudio-programming-environment.html"><a href="rstudio-programming-environment.html"><i class="fa fa-check"></i><b>3</b> RStudio Programming Environment</a><ul>
<li class="chapter" data-level="3.1" data-path="rstudio-programming-environment.html"><a href="rstudio-programming-environment.html#creating-a-new-project"><i class="fa fa-check"></i><b>3.1</b> Creating a new project</a></li>
<li class="chapter" data-level="3.2" data-path="rstudio-programming-environment.html"><a href="rstudio-programming-environment.html#rstudio-screen"><i class="fa fa-check"></i><b>3.2</b> RStudio screen</a></li>
<li class="chapter" data-level="3.3" data-path="rstudio-programming-environment.html"><a href="rstudio-programming-environment.html#r-workflow"><i class="fa fa-check"></i><b>3.3</b> R Workflow</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="r-data-types.html"><a href="r-data-types.html"><i class="fa fa-check"></i><b>4</b> R Data types</a><ul>
<li class="chapter" data-level="4.1" data-path="r-data-types.html"><a href="r-data-types.html#character"><i class="fa fa-check"></i><b>4.1</b> Character</a></li>
<li class="chapter" data-level="4.2" data-path="r-data-types.html"><a href="r-data-types.html#numeric"><i class="fa fa-check"></i><b>4.2</b> Numeric</a></li>
<li class="chapter" data-level="4.3" data-path="r-data-types.html"><a href="r-data-types.html#logical"><i class="fa fa-check"></i><b>4.3</b> Logical</a></li>
<li class="chapter" data-level="4.4" data-path="r-data-types.html"><a href="r-data-types.html#vectors"><i class="fa fa-check"></i><b>4.4</b> Vectors</a></li>
<li class="chapter" data-level="4.5" data-path="r-data-types.html"><a href="r-data-types.html#factors"><i class="fa fa-check"></i><b>4.5</b> Factors</a></li>
<li class="chapter" data-level="4.6" data-path="r-data-types.html"><a href="r-data-types.html#list-of-lists"><i class="fa fa-check"></i><b>4.6</b> List of lists</a></li>
<li class="chapter" data-level="4.7" data-path="r-data-types.html"><a href="r-data-types.html#matrices"><i class="fa fa-check"></i><b>4.7</b> Matrices</a></li>
<li class="chapter" data-level="4.8" data-path="r-data-types.html"><a href="r-data-types.html#data-frames"><i class="fa fa-check"></i><b>4.8</b> Data frames</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="preparing-your-data-for-analysis.html"><a href="preparing-your-data-for-analysis.html"><i class="fa fa-check"></i><b>5</b> Preparing your data for analysis</a><ul>
<li class="chapter" data-level="5.1" data-path="preparing-your-data-for-analysis.html"><a href="preparing-your-data-for-analysis.html#reading-the-data"><i class="fa fa-check"></i><b>5.1</b> Reading the data</a></li>
<li class="chapter" data-level="5.2" data-path="preparing-your-data-for-analysis.html"><a href="preparing-your-data-for-analysis.html#transforming-entire-columns"><i class="fa fa-check"></i><b>5.2</b> Transforming entire columns</a></li>
<li class="chapter" data-level="5.3" data-path="preparing-your-data-for-analysis.html"><a href="preparing-your-data-for-analysis.html#subsetting-data"><i class="fa fa-check"></i><b>5.3</b> Subsetting data</a></li>
<li class="chapter" data-level="5.4" data-path="preparing-your-data-for-analysis.html"><a href="preparing-your-data-for-analysis.html#useful-functions"><i class="fa fa-check"></i><b>5.4</b> Useful functions</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="conditions-if-and-else.html"><a href="conditions-if-and-else.html"><i class="fa fa-check"></i><b>6</b> Conditions - If and Else</a><ul>
<li class="chapter" data-level="6.1" data-path="conditions-if-and-else.html"><a href="conditions-if-and-else.html#if"><i class="fa fa-check"></i><b>6.1</b> If</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="for-and-while.html"><a href="for-and-while.html"><i class="fa fa-check"></i><b>7</b> For and While</a><ul>
<li class="chapter" data-level="7.1" data-path="for-and-while.html"><a href="for-and-while.html#for"><i class="fa fa-check"></i><b>7.1</b> For</a></li>
<li class="chapter" data-level="7.2" data-path="for-and-while.html"><a href="for-and-while.html#while"><i class="fa fa-check"></i><b>7.2</b> While</a></li>
<li class="chapter" data-level="7.3" data-path="for-and-while.html"><a href="for-and-while.html#do-while"><i class="fa fa-check"></i><b>7.3</b> Do-while</a></li>
<li class="chapter" data-level="7.4" data-path="for-and-while.html"><a href="for-and-while.html#for-vs.while"><i class="fa fa-check"></i><b>7.4</b> For vs. While</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="writing-own-functions.html"><a href="writing-own-functions.html"><i class="fa fa-check"></i><b>8</b> Writing own functions</a></li>
<li class="chapter" data-level="9" data-path="debugging.html"><a href="debugging.html"><i class="fa fa-check"></i><b>9</b> Debugging</a></li>
<li class="chapter" data-level="10" data-path="piping.html"><a href="piping.html"><i class="fa fa-check"></i><b>10</b> Piping</a></li>
<li class="chapter" data-level="11" data-path="plotting.html"><a href="plotting.html"><i class="fa fa-check"></i><b>11</b> Plotting</a><ul>
<li class="chapter" data-level="11.1" data-path="plotting.html"><a href="plotting.html#standard-library"><i class="fa fa-check"></i><b>11.1</b> Standard library</a><ul>
<li class="chapter" data-level="11.1.1" data-path="plotting.html"><a href="plotting.html#points-or-lines-type"><i class="fa fa-check"></i><b>11.1.1</b> Points or Lines? (type)</a></li>
<li class="chapter" data-level="11.1.2" data-path="plotting.html"><a href="plotting.html#line-type-lty"><i class="fa fa-check"></i><b>11.1.2</b> Line type (lty)</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="plotting.html"><a href="plotting.html#ggplot"><i class="fa fa-check"></i><b>11.2</b> ggplot</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>12</b> R-Markdown</a><ul>
<li class="chapter" data-level="12.1" data-path="r-markdown.html"><a href="r-markdown.html#output-formats"><i class="fa fa-check"></i><b>12.1</b> Output formats</a></li>
<li class="chapter" data-level="12.2" data-path="r-markdown.html"><a href="r-markdown.html#document-structure"><i class="fa fa-check"></i><b>12.2</b> Document structure</a></li>
<li class="chapter" data-level="12.3" data-path="r-markdown.html"><a href="r-markdown.html#code-blocks"><i class="fa fa-check"></i><b>12.3</b> Code blocks</a></li>
<li class="chapter" data-level="12.4" data-path="r-markdown.html"><a href="r-markdown.html#lists"><i class="fa fa-check"></i><b>12.4</b> Lists</a></li>
<li class="chapter" data-level="12.5" data-path="r-markdown.html"><a href="r-markdown.html#insert-an-image"><i class="fa fa-check"></i><b>12.5</b> Insert an image</a></li>
<li class="chapter" data-level="12.6" data-path="r-markdown.html"><a href="r-markdown.html#further-documentation"><i class="fa fa-check"></i><b>12.6</b> Further documentation</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="short-statistical-breaks.html"><a href="short-statistical-breaks.html"><i class="fa fa-check"></i><b>13</b> Short statistical breaks</a><ul>
<li class="chapter" data-level="13.1" data-path="short-statistical-breaks.html"><a href="short-statistical-breaks.html#dinosours"><i class="fa fa-check"></i><b>13.1</b> Dinosours</a></li>
<li class="chapter" data-level="13.2" data-path="short-statistical-breaks.html"><a href="short-statistical-breaks.html#stars"><i class="fa fa-check"></i><b>13.2</b> Stars</a></li>
<li class="chapter" data-level="13.3" data-path="short-statistical-breaks.html"><a href="short-statistical-breaks.html#correlation"><i class="fa fa-check"></i><b>13.3</b> Correlation</a></li>
<li class="chapter" data-level="13.4" data-path="short-statistical-breaks.html"><a href="short-statistical-breaks.html#beginners-book"><i class="fa fa-check"></i><b>13.4</b> Beginners Book</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Programming for Data Analysis and Statistics with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="preparing-your-data-for-analysis" class="section level1">
<h1><span class="header-section-number">5</span> Preparing your data for analysis</h1>
<div id="reading-the-data" class="section level2">
<h2><span class="header-section-number">5.1</span> Reading the data</h2>
<p>Usually, you would use the “csv” format to read data into R. Sometimes you have other formats, e.g. “txt”. Optimally, you have exactly one line for the header.
Make sure to choose the correct separator. You also have to tell R whether your file has a header or not.</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb74-1" data-line-number="1">df &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="st">&quot;beedata.csv&quot;</span>)</a></code></pre></div>
<pre><code>## Error in scan(file = file, what = what, sep = sep, quote = quote, dec = dec, : line 2 did not have 2 elements</code></pre>
<p>That did not work. Oh, yes, the separator!</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb76-1" data-line-number="1">df &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="st">&quot;beedata.csv&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;,&quot;</span>)</a></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">V1</th>
<th align="left">V2</th>
<th align="left">V3</th>
<th align="left">V4</th>
<th align="left">V5</th>
<th align="left">V6</th>
<th align="left">V7</th>
<th align="left">V8</th>
<th align="left">V9</th>
<th align="left">V10</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">time</td>
<td align="left">hive</td>
<td align="left">h</td>
<td align="left">t_i_1</td>
<td align="left">t_i_2</td>
<td align="left">t_i_3</td>
<td align="left">t_i_4</td>
<td align="left">t_i_5</td>
<td align="left">t_o</td>
<td align="left">weight_kg</td>
</tr>
<tr class="even">
<td align="left">1.565081418e+18</td>
<td align="left">4</td>
<td align="left">NA</td>
<td align="left">27.25</td>
<td align="left">26.375</td>
<td align="left">23.4375</td>
<td align="left">23.5</td>
<td align="left">23.25</td>
<td align="left">21.625</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">1.565081428e+18</td>
<td align="left">4</td>
<td align="left">NA</td>
<td align="left">27.25</td>
<td align="left">26.4375</td>
<td align="left">23.5</td>
<td align="left">23.5</td>
<td align="left">23.25</td>
<td align="left">21.625</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">1.565081431e+18</td>
<td align="left">13</td>
<td align="left">59.0554</td>
<td align="left">22.875</td>
<td align="left">22.1875</td>
<td align="left">23</td>
<td align="left">21.8125</td>
<td align="left">22.6875</td>
<td align="left">22.875</td>
<td align="left">10.779</td>
</tr>
<tr class="odd">
<td align="left">1.565081438e+18</td>
<td align="left">4</td>
<td align="left">NA</td>
<td align="left">27.25</td>
<td align="left">26.375</td>
<td align="left">23.5</td>
<td align="left">23.5625</td>
<td align="left">23.25</td>
<td align="left">21.625</td>
<td align="left">NA</td>
</tr>
</tbody>
</table>
<p>Looks ok, but we forgot the heading:</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb77-1" data-line-number="1">df &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="st">&quot;beedata.csv&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;,&quot;</span>, <span class="dt">header =</span> T)</a></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">time</th>
<th align="right">hive</th>
<th align="right">h</th>
<th align="right">t_i_1</th>
<th align="right">t_i_2</th>
<th align="right">t_i_3</th>
<th align="right">t_i_4</th>
<th align="right">t_i_5</th>
<th align="right">t_o</th>
<th align="right">weight_kg</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1.565081e+18</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="right">27.250</td>
<td align="right">26.3750</td>
<td align="right">23.4375</td>
<td align="right">23.5000</td>
<td align="right">23.2500</td>
<td align="right">21.625</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">1.565081e+18</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="right">27.250</td>
<td align="right">26.4375</td>
<td align="right">23.5000</td>
<td align="right">23.5000</td>
<td align="right">23.2500</td>
<td align="right">21.625</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="right">1.565081e+18</td>
<td align="right">13</td>
<td align="right">59.0554</td>
<td align="right">22.875</td>
<td align="right">22.1875</td>
<td align="right">23.0000</td>
<td align="right">21.8125</td>
<td align="right">22.6875</td>
<td align="right">22.875</td>
<td align="right">10.779</td>
</tr>
<tr class="even">
<td align="right">1.565081e+18</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="right">27.250</td>
<td align="right">26.3750</td>
<td align="right">23.5000</td>
<td align="right">23.5625</td>
<td align="right">23.2500</td>
<td align="right">21.625</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="right">1.565081e+18</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="right">27.250</td>
<td align="right">26.3750</td>
<td align="right">23.5000</td>
<td align="right">23.5625</td>
<td align="right">23.2500</td>
<td align="right">21.625</td>
<td align="right">NA</td>
</tr>
</tbody>
</table>
<p>That looks good!</p>
<p>Alternatively, we can use “read.csv”. In this case, the default parameters work for us.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb78-1" data-line-number="1">df &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;beedata.csv&quot;</span>)</a></code></pre></div>
<p>Take care, sometimes you don’t get an error, but your data is screwed up anyway:
<img src="images/sampleData.png" alt="sample Data" /></p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb79-1" data-line-number="1">df &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;sampleData.csv&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot; &quot;</span>)</a></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">name.</th>
<th align="left">age.</th>
<th align="left">subject.</th>
<th align="right">year</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Li;</td>
<td align="left">18;</td>
<td align="left">chemistry;</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Svenson,Jacob;</td>
<td align="left">25;</td>
<td align="left">psychology;</td>
<td align="right">12</td>
</tr>
<tr class="odd">
<td align="left">Raphaela;</td>
<td align="left">23;</td>
<td align="left">psychology;</td>
<td align="right">1</td>
</tr>
</tbody>
</table>
<p>Use the head function to inspect your data.</p>
</div>
<div id="transforming-entire-columns" class="section level2">
<h2><span class="header-section-number">5.2</span> Transforming entire columns</h2>
<p>The columns/ variables of a dataframe basically behave like entries in a named list. Each element of this list is a vector of a specific type.
You can inspect the structure of a dataframe using the function “str”.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb80-1" data-line-number="1">df &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;beedata.csv&quot;</span>)</a>
<a class="sourceLine" id="cb80-2" data-line-number="2"><span class="kw">str</span>(df)</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    171299 obs. of  10 variables:
##  $ time     : num  1.57e+18 1.57e+18 1.57e+18 1.57e+18 1.57e+18 ...
##  $ hive     : int  4 4 13 4 4 4 4 4 4 4 ...
##  $ h        : num  NA NA 59.1 NA NA ...
##  $ t_i_1    : num  27.2 27.2 22.9 27.2 27.2 ...
##  $ t_i_2    : num  26.4 26.4 22.2 26.4 26.4 ...
##  $ t_i_3    : num  23.4 23.5 23 23.5 23.5 ...
##  $ t_i_4    : num  23.5 23.5 21.8 23.6 23.6 ...
##  $ t_i_5    : num  23.2 23.2 22.7 23.2 23.2 ...
##  $ t_o      : num  21.6 21.6 22.9 21.6 21.6 ...
##  $ weight_kg: num  NA NA 10.8 NA NA ...</code></pre>
<p>E.g. converting kg to g:</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb82-1" data-line-number="1">df<span class="op">$</span>weight_g &lt;-<span class="st"> </span>df<span class="op">$</span>weight_kg<span class="op">*</span><span class="dv">1000</span></a></code></pre></div>
<p>Marking high temperature values:</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb83-1" data-line-number="1">df<span class="op">$</span>highTemp &lt;-<span class="st"> </span>df<span class="op">$</span>t_i_<span class="dv">1</span><span class="op">&gt;</span><span class="dv">25</span></a></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">time</th>
<th align="right">hive</th>
<th align="right">h</th>
<th align="right">t_i_1</th>
<th align="right">weight_kg</th>
<th align="right">weight_g</th>
<th align="left">highTemp</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1.565081e+18</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="right">27.250</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="right">1.565081e+18</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="right">27.250</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="right">1.565081e+18</td>
<td align="right">13</td>
<td align="right">59.0554</td>
<td align="right">22.875</td>
<td align="right">10.779</td>
<td align="right">10779</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="right">1.565081e+18</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="right">27.250</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="right">1.565081e+18</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="right">27.250</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">TRUE</td>
</tr>
</tbody>
</table>
<p>Dealing with the timestamp (nanoseconds to seconds)</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb84-1" data-line-number="1">df<span class="op">$</span>time &lt;-<span class="st"> </span><span class="kw">as.POSIXct</span>(df<span class="op">$</span>time<span class="op">/</span><span class="dv">1000000000</span>, <span class="dt">origin=</span><span class="st">&quot;1970-01-01&quot;</span>)</a></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">time</th>
<th align="right">hive</th>
<th align="right">h</th>
<th align="right">t_i_1</th>
<th align="right">t_i_2</th>
<th align="right">t_i_3</th>
<th align="right">t_i_4</th>
<th align="right">t_i_5</th>
<th align="right">t_o</th>
<th align="right">weight_kg</th>
<th align="right">weight_g</th>
<th align="left">highTemp</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">2019-08-06 10:50:18</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="right">27.250</td>
<td align="right">26.3750</td>
<td align="right">23.4375</td>
<td align="right">23.5000</td>
<td align="right">23.2500</td>
<td align="right">21.625</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">2019-08-06 10:50:28</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="right">27.250</td>
<td align="right">26.4375</td>
<td align="right">23.5000</td>
<td align="right">23.5000</td>
<td align="right">23.2500</td>
<td align="right">21.625</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">2019-08-06 10:50:31</td>
<td align="right">13</td>
<td align="right">59.0554</td>
<td align="right">22.875</td>
<td align="right">22.1875</td>
<td align="right">23.0000</td>
<td align="right">21.8125</td>
<td align="right">22.6875</td>
<td align="right">22.875</td>
<td align="right">10.779</td>
<td align="right">10779</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">2019-08-06 10:50:38</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="right">27.250</td>
<td align="right">26.3750</td>
<td align="right">23.5000</td>
<td align="right">23.5625</td>
<td align="right">23.2500</td>
<td align="right">21.625</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">2019-08-06 10:50:48</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="right">27.250</td>
<td align="right">26.3750</td>
<td align="right">23.5000</td>
<td align="right">23.5625</td>
<td align="right">23.2500</td>
<td align="right">21.625</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">TRUE</td>
</tr>
</tbody>
</table>
</div>
<div id="subsetting-data" class="section level2">
<h2><span class="header-section-number">5.3</span> Subsetting data</h2>
<p>You can use squared brackets and boolean expressions to choose lines and columns: df[&lt;expression to choose lines&gt;,&lt;expression to choose columns&gt;]</p>
<p>Select and plot data from hive 4:</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb85-1" data-line-number="1">df<span class="fl">.4</span> &lt;-<span class="st"> </span>df[df<span class="op">$</span>hive<span class="op">==</span><span class="dv">4</span>,]</a>
<a class="sourceLine" id="cb85-2" data-line-number="2"><span class="kw">plot</span>(df<span class="fl">.4</span><span class="op">$</span>time, df<span class="fl">.4</span><span class="op">$</span>t_o, <span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">40</span>))</a></code></pre></div>
<p><img src="courseNotes_files/figure-html/unnamed-chunk-30-1.png" width="672" />
Select only the first 1000 lines:</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb86-1" data-line-number="1">df.<span class="fl">4.</span>sub &lt;-<span class="st"> </span>df<span class="fl">.4</span>[<span class="dv">1</span><span class="op">:</span><span class="dv">1000</span>,]</a>
<a class="sourceLine" id="cb86-2" data-line-number="2"><span class="kw">plot</span>(df.<span class="fl">4.</span>sub<span class="op">$</span>time, df.<span class="fl">4.</span>sub<span class="op">$</span>t_o, <span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">40</span>))</a></code></pre></div>
<p><img src="courseNotes_files/figure-html/unnamed-chunk-31-1.png" width="672" />
Delete columns: / Choose only some columns</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb87-1" data-line-number="1"><span class="kw">names</span>(df)</a></code></pre></div>
<pre><code>##  [1] &quot;time&quot;      &quot;hive&quot;      &quot;h&quot;         &quot;t_i_1&quot;     &quot;t_i_2&quot;    
##  [6] &quot;t_i_3&quot;     &quot;t_i_4&quot;     &quot;t_i_5&quot;     &quot;t_o&quot;       &quot;weight_kg&quot;
## [11] &quot;weight_g&quot;  &quot;highTemp&quot;</code></pre>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb89-1" data-line-number="1">df.some &lt;-<span class="st"> </span>df[, <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">10</span>)]</a></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">time</th>
<th align="right">hive</th>
<th align="right">weight_kg</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">2019-08-06 10:50:18</td>
<td align="right">4</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">2019-08-06 10:50:28</td>
<td align="right">4</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">2019-08-06 10:50:31</td>
<td align="right">13</td>
<td align="right">10.779</td>
</tr>
<tr class="even">
<td align="left">2019-08-06 10:50:38</td>
<td align="right">4</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">2019-08-06 10:50:48</td>
<td align="right">4</td>
<td align="right">NA</td>
</tr>
</tbody>
</table>
<p>You can also use:</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb90-1" data-line-number="1">df.same &lt;-<span class="st"> </span>df[, <span class="kw">c</span>(<span class="st">&quot;time&quot;</span>, <span class="st">&quot;hive&quot;</span>, <span class="st">&quot;weight_kg&quot;</span>)]</a></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">time</th>
<th align="right">hive</th>
<th align="right">weight_kg</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">2019-08-06 10:50:18</td>
<td align="right">4</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">2019-08-06 10:50:28</td>
<td align="right">4</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">2019-08-06 10:50:31</td>
<td align="right">13</td>
<td align="right">10.779</td>
</tr>
<tr class="even">
<td align="left">2019-08-06 10:50:38</td>
<td align="right">4</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">2019-08-06 10:50:48</td>
<td align="right">4</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">or</td>
<td align="right"></td>
<td align="right"></td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb91-1" data-line-number="1">df.or &lt;-<span class="st"> </span>df[, <span class="op">-</span><span class="kw">c</span>(<span class="dv">3</span><span class="op">:</span><span class="dv">9</span>,<span class="dv">11</span>)]</a></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">time</th>
<th align="right">hive</th>
<th align="right">weight_kg</th>
<th align="left">highTemp</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">2019-08-06 10:50:18</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">2019-08-06 10:50:28</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">2019-08-06 10:50:31</td>
<td align="right">13</td>
<td align="right">10.779</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">2019-08-06 10:50:38</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">2019-08-06 10:50:48</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="left">TRUE</td>
</tr>
</tbody>
</table>
</div>
<div id="useful-functions" class="section level2">
<h2><span class="header-section-number">5.4</span> Useful functions</h2>
<ul>
<li>summary</li>
<li>head</li>
<li>tail</li>
<li>sum</li>
<li>mean</li>
</ul>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="r-data-types.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="conditions-if-and-else.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="book_assets/gitbook-2.6.7/js/app.min.js"></script>
<script src="book_assets/gitbook-2.6.7/js/lunr.js"></script>
<script src="book_assets/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="book_assets/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
},
"search": false
});
});
</script>

</body>

</html>
